{"version":3,"sources":["focuser.min.js","focuser.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","m","modules","updateFocuser","isFocused","currentElem","elemInfo","getBoundingClientRect","formInputs","indexOf","nodeName","toLowerCase","height","width","stopFocuser","focuserBox","top","left","focuserElem","style","focuserElemPadding","window","pageYOffset","pageXOffset","requestAnimationFrame","startFocuser","event","target","classList","add","remove","document","createElement","body","appendChild","setAttribute","addEventListener","c","p","moduleId","id","loaded","call"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA,CCNA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,IACA,mBAAAG,QAAAA,OAAAC,IACAD,OAAA,UAAA,GAAAH,GACA,iBAAAC,QALAA,QAAA,QAAAD,IAEAD,EAAA,QAAAC,IAFA,CAGAK,KAAA,WACA,OAEAC,EAAA,GA4BAC,EAAAC,EA9BAC,EA0CA,CAEA,SAAAP,EAAAD,GAEA,aAwCA,SAAAS,IACA,GAAAC,GAAAC,EAAA,CACA,IAAAC,EAAAD,EAAAE,yBAMA,IAAAC,EAAAC,QAAAJ,EAAAK,SAAAC,gBAKAL,EAAAM,QAAA,GAAAN,EAAAO,OAAA,EACAC,IAIAC,EAAAF,QAAAP,EAAAO,OAAAE,EAAAH,SAAAN,EAAAM,QAAAG,EAAAC,MAAAV,EAAAU,KAAAD,EAAAE,OAAAX,EAAAW,OAEAF,EAAAF,MAAAP,EAAAO,MACAE,EAAAH,OAAAN,EAAAM,OACAG,EAAAC,IAAAV,EAAAU,IACAD,EAAAE,KAAAX,EAAAW,KAGAC,EAAAC,MAAAN,MAAAP,EAAAO,MAAAO,EAAA,KACAF,EAAAC,MAAAP,OAAAN,EAAAM,OAAAQ,EAAA,KACAF,EAAAC,MAAAH,IAAAV,EAAAU,IAAAK,OAAAC,YA/CA,EA+CA,KACAJ,EAAAC,MAAAF,KAAAX,EAAAW,KAAAI,OAAAE,YAhDA,EAgDA,MAGAF,OAAAG,sBAAArB,IAQA,SAAAsB,EAAAC,GACAtB,GAAA,EACAC,EAAAqB,EAAAC,OAEAT,EAAAU,UAAAC,IAAA,UAEA1B,IApFA,IAEAY,EAQAP,EAGAH,EAGAa,EAMAd,EAiEAU,EAvFAnB,EAAAD,SAEAqB,EAAA,CACAF,MAAA,EACAD,OAAA,EACAI,IAAA,EACAC,KAAA,GAUAC,EAHAb,EAAA,KASAD,IAZAI,EAAA,CAAA,OAAA,MAAA,OAAA,OAAA,QA6EAM,EAAA,WACAV,GAAA,EACAC,EAAA,KAEAa,EAAAU,UAAAE,OAAA,YA9DAZ,EAAAa,SAAAC,cAAA,QACAJ,UAAAC,IAAA,gBAEAE,SAAAE,KAAAC,YAAAhB,GAGAa,SAAAE,KAAAE,aAAA,eAAA,IA4DAJ,SAAAE,KAAAG,iBAAA,UAAAX,GACAM,SAAAE,KAAAG,iBAAA,WAAAtB,QASAX,OAxHAH,EAAAqC,EAAAtC,EAGAC,EAAAsC,EAAA,GAGAtC,EAAA,GAlCA,SAAAA,EAAAuC,GAGA,GAAAxC,EAAAwC,GACA,OAAAxC,EAAAwC,GAAA7C,QAGA,IAAAC,EAAAI,EAAAwC,GAAA,CACA7C,QAAA,GACA8C,GAAAD,EACAE,QAAA,GAUA,OANAvC,EAAAqC,GAAAG,KAAA/C,EAAAD,QAAAC,EAAAA,EAAAD,QAAAM,GAGAL,EAAA8C,QAAA,EAGA9C,EAAAD,QAzBA,IAAAQ,EAEAH","file":"../focuser.min.js","sourcesContent":[null,"/**\n * focuser - Ditch those ugly focus styles and use Focuser! A stylable, traveling focus indicator.\n * @version v1.1.0\n * @link https://github.com/ten1seven/focuser\n * @license MIT\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"focuser\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"focuser\"] = factory();\n\telse\n\t\troot[\"focuser\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\n\tmodule.exports = function () {\n\t  // object containing the focuser's current dimensions\n\t  var focuserBox = {\n\t    width: 0,\n\t    height: 0,\n\t    top: 0,\n\t    left: 0\n\n\t    // block-level elements\n\t    // that should not receive a focus indicator\n\t  };var formInputs = ['body', 'div', 'form', 'main', 'nav'];\n\n\t  // empty variable for holding the curretly-focused element\n\t  var currentElem = null;\n\n\t  // empty variable for the focuser element\n\t  var focuserElem = null;\n\n\t  // extra \"padding\" between focuser and the element it's focusing\n\t  var focuserElemPadding = 0;\n\n\t  // boolean containing whether something is currently focused\n\t  var isFocused = false;\n\n\t  /**\n\t   * Set up\n\t   */\n\n\t  var createFocuser = function createFocuser() {\n\t    focuserElem = document.createElement('div');\n\t    focuserElem.classList.add('a11y-focuser');\n\n\t    document.body.appendChild(focuserElem);\n\n\t    // set attribute on body to indicate that focuser is available\n\t    document.body.setAttribute('data-focuser', '');\n\t  };\n\n\t  var updateFocuser = function updateFocuser() {\n\t    if (isFocused && currentElem) {\n\t      var elemInfo = currentElem.getBoundingClientRect();\n\n\t      // reasons to stop an active focuser\n\t      if (\n\n\t      // if the current element is one of the block level elements\n\t      formInputs.indexOf(currentElem.nodeName.toLowerCase()) !== -1 ||\n\n\t      // OR the element is less than 1px in height and width\n\t      // this catches elements that may be using accessible techniques for hidden content\n\t      // via: https://snook.ca/archives/html_and_css/hiding-content-for-accessibility\n\t      elemInfo.height <= 1 && elemInfo.width <= 1) {\n\t        stopFocuser();\n\n\t        // only update the focuser element if\n\t        // the dimensions have changed to save on processing\n\t      } else if (focuserBox.width !== elemInfo.width || focuserBox.height !== elemInfo.height || focuserBox.top !== elemInfo.top || focuserBox.left !== elemInfo.left) {\n\t        // save the current dimensions for comparison\n\t        focuserBox.width = elemInfo.width;\n\t        focuserBox.height = elemInfo.height;\n\t        focuserBox.top = elemInfo.top;\n\t        focuserBox.left = elemInfo.left;\n\n\t        // set the style on the focuser\n\t        focuserElem.style.width = elemInfo.width + focuserElemPadding * 2 + 'px';\n\t        focuserElem.style.height = elemInfo.height + focuserElemPadding * 2 + 'px';\n\t        focuserElem.style.top = elemInfo.top + window.pageYOffset - focuserElemPadding + 'px';\n\t        focuserElem.style.left = elemInfo.left + window.pageXOffset - focuserElemPadding + 'px';\n\t      }\n\n\t      window.requestAnimationFrame(updateFocuser);\n\t    }\n\t  };\n\n\t  /**\n\t   * Events\n\t   */\n\n\t  var startFocuser = function startFocuser(event) {\n\t    isFocused = true;\n\t    currentElem = event.target;\n\n\t    focuserElem.classList.add('-focus');\n\n\t    updateFocuser();\n\t  };\n\n\t  var stopFocuser = function stopFocuser() {\n\t    isFocused = false;\n\t    currentElem = null;\n\n\t    focuserElem.classList.remove('-focus');\n\t  };\n\n\t  var addListeners = function addListeners() {\n\t    document.body.addEventListener('focusin', startFocuser);\n\t    document.body.addEventListener('focusout', stopFocuser);\n\t  };\n\n\t  /**\n\t   * Init\n\t   */\n\n\t  createFocuser();\n\t  addListeners();\n\t  updateFocuser();\n\t}();\n\n/***/ })\n/******/ ])\n});\n;"]}